{% extends "guest/homebase.html" %} {% block content %}

<style>
  table th {
    text-align: center;
    text-transform: uppercase;
    font-size: 11px;
  }

  td {
    text-align: center;
    font-size: 12px;
  }

  body {
    font-family: arial nova;
  }

  /* Reduce padding and font size for smaller table */
  #example {
    font-size: 10px;
    padding: 5px;
  }

  /* Optional: Make table responsive for smaller screens */
  @media only screen and (max-width: 600px) {
    #example {
      font-size: 12px;
    }
    .text-success {
    color: green;
}

.text-danger {
    color: red;
}
  }
</style>
<div class="col-md-12">
  <div class="card-header">
    <div class="row">
      <div class="col-md-6" style="color: #1ab394">
        <strong>Social Media Guest Feedback</strong>
      </div>
      <div class="col-md-6 text-right">
        <a href="{% url 'reviews_add' %}" class="btn btn-primary"> ADD </a>
      </div>
    </div>
  </div>
  <br />

  <table id="example" class="table table-bordered">
    <thead class="thead">
      <tr class="table-success">
        <th>Hotel</th>
        <th>Sources</th>
        <th>date</th>
        <th>image</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for guest in guest %}
      <tr>
        <td>{{ guest.hotel}}</td>
        <td>{{ guest.sources}}</td>
        <td>{{ guest.date | date:'d-m-Y'}}</td>
        <td>
          <img
            src="{{ guest.image.url }}"
            alt="Image"
            width="200"
            height="100"
          />
          <td class="{% if guest.status == 1 %}text-success{% else %}text-danger{% endif %}">
    {% if guest.status == 1 %}Closed{% else %}Pending From GM/HM{% endif %}
</td>
        </td>

        <td>
          <a href="{% url 'reviews_edit'  %}?ID={{guest.id}}" class="btn btn-success">GM/HM</a>
          
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<link
  rel="stylesheet"
  href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.css"
/>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  $(document).ready(function () {
    var table = $("#example").DataTable({
      paging: true,
      searching: true,
      order: [],
      columnDefs: [{ targets: "_all", className: "text-center" }],
    });
  });
</script>
{% endblock content %}
