{% extends 'FixedExpense/homebase.html' %}
{% load static %}


{% block content %} 


<style>

    .table-container {
        max-height: 500px; /* Set a fixed height for the table container */
        overflow-y: auto; /* Enable vertical scrolling for the container */
      }
      
      table {
        width: 100%;
        border-collapse: collapse;
      }
      
      thead {
        background-color: #f2f2f2;
      }
      
      th, td {
        padding: 10px;
        border: 1px solid #ccc;
      }
      
      thead th {
        position: sticky;
        top: 0;
        z-index: 1; /* Add z-index to ensure header appears above table body while scrolling */
      }
    #tableData tr td:not(:first-child){
text-align: right;

    }

    table {
        table-layout: fixed;
      max-width:400% !important;
      width:auto !important;
    }
td{
  width:250px;
}
    th:first-child,
    td:first-child {
        position: sticky;
        min-width: 350px;
        
        left: 0;
        width:300px;
        z-index: 5;
        background-color: #f8f6f6; /* Set the background color for the fixed column */
    }

</style>
          <div class="row">
            <div class="col">
                <div class="ibox">
                    <div class="ibox-title">
                        <h5>Hotel Monthly Combine Report</h5>
                       
                    </div>
                    <div class="ibox-content">
                        <form>
                        <div class="row">
                            
                            <div class="col-5 col-md-2">
                                <select class="form-control" name="EntryYear">
                                    {% for year in years reversed%}
                                        <option value="{{ year }}">{{ year }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-5 col-md-2">

                                <select name="EntryMonth" class="form-control">
                                    <option value='1'>January</option>
                                    <option value='2'>February</option>
                                    <option value='3'>March</option>
                                    <option value='4'>April</option>
                                    <option value='5'>May</option>
                                    <option value='6'>June</option>
                                    <option value='7'>July</option>
                                    <option value='8'>August</option>
                                    <option value='9'>September</option>
                                    <option value='10'>October</option>
                                    <option value='11'>November</option>
                                    <option value='12'>December</option>
                                    
                                </select>
                            </div>
                            <div class="col-1">
                                <button class="btn btn-primary" type="submit">Filter</button>
                            </div>
                        </div>
                        </form>
                     
                        <br/>
                      
                        <div class="row">
                            <div class="col table-responsive table-container">
                                {{DataRes}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
    
          <script>  
            $(function(){

                if (getUrlParameter("I") !=false) {
                    $("select[name='I']").val((getUrlParameter("I")))
                }
                if ( getUrlParameter("EntryYear") !=false) {
                    $("select[name='EntryYear']").val((getUrlParameter("EntryYear")))
                }
            })
          </script>
    {% endblock content %}