{% extends "HR/EmployeeDashboard/EditEmployee.html" %}
{% load encryption_filters %}
 {% load static %} 
{% block content %}
<link href="{% static 'css/plugins/sweetalert/sweetalert.css' %}" rel="stylesheet">

<style>
    
    #ProfileImagePreview {
        border-radius: 50%;
        border: 2px solid #ddd;     
        margin-top: 10px;
        max-width: 150px; 
        height: 150px;    
        object-fit: cover; 
    }

.Name
{
    width: 200px;
}

.Date
{
    width: 140px;
}

.Designation
{
    width: 150px;
}

.Department
{
    width: 150px;
}
.EmpCode
{
    width: 80px;
}
.Signed
{
    width: 250px;
}
.Action 
{
    width : 200px
}

.card {
    border-radius: 5px;
    border: 1px solid #0000004f;
}

.card-header{
    margin-bottom: -20px !important;
}
</style>




     <!-- Letter of Appointment -->
    
    <div class="card card-primary">
        <div class="card-header">
           <span class=" text-uppercase fw-bold">CheckList Issued </span> 
            {% if IsShow != 'Yes' %}
            <a href="{% url 'Checklistadd' %}?EC={{ EC|urlencode }}&EmpID={{ EmpID|urlencode }}&OID={{OrganizationID}}" 
               class="btn btn-sm btn-primary" style="float: right;">
                New Checklist Form
            </a>
        {% endif %}
        
        </div>
        <div class="m-3">
                <table class="table table-bordered table-condensed  display table-sm compact" style="font-size:11px">
                    <thead>
                        <tr>
                            <th>EmpCode</th>
                            <th>Name</th>
                            <th>Department</th>
                            <th>Designations</th>
                            <th>Action</th>
                           
                            
                        </tr>
                    </thead>
                    <tbody>
                      {% for checkempdata  in checkempdata %}
                      <tr>
                        <td>{{ checkempdata.EmpCode }}</td>
                        <td>{{ checkempdata.Name }}</td>
                        <td>{{ checkempdata.Department }}</td>
                        <td>{{ checkempdata.Designtions }}</td>
                        <td style="width: 200px;">
                            <a href="{% url 'Checklistadd' %}?ID={{ checkempdata.id }}&EC={{EC}}&EmpID={{EmpID}}&OID={{OrganizationID}}" class="btn btn-primary btn-sm edit-btn"   title="Edit">Edit</a>
                            {% comment %} <a onclick="return confirm('Are you sure you want to delete?')"
                            href="{% url 'EmpChecklist' %}?ID={{ checkempdata.id }}&EC={{EC}}&EmpID={{EmpID}}"
                            class="btn btn-danger btn-sm"
                            style="font-size: 12px; margin-right: 1px;">
                            Delete
                         </a> {% endcomment %}
                         <a target="_blank" href="{% url 'ChecklistView' %}?ID={{ checkempdata.id }}&EC={{EC}}&EmpID={{EmpID}}&OID={{OrganizationID}}" class="btn btn-primary btn-sm edit-btn"  title="View">View</a>
                        </td>
                      </tr>
            
                      {% endfor %}
                    </tbody>
    
                </table>
        </div>
    </div>
    
   
   
    

  


 
    
   
     



    <script>
        $(document).ready(function () {
            const urlParams = new URLSearchParams(window.location.search);
            const success = urlParams.get('Success');
            
            if (success === 'True') {
                showSuccess();
                removeSuccessParam();
            }
            if (success === 'Deleted') {
                showDelete();
                removeSuccessParam();
            }
            if (success === 'Uploaded') {
                showUploaded();
                removeSuccessParam();
            }
    
            function removeSuccessParam() {
                urlParams.delete('Success'); 
                const newUrl = window.location.pathname + '?' + urlParams.toString();
                window.history.replaceState(null, '', newUrl);
            }
        });
    </script>
    
    



{% endblock content %}





