{% extends 'SnagList/homebase.html' %}
{% load static %}


{% block content %}
 <style>
    td.bold {
        font-weight: bold;
        background: #efefef;
        vertical-align: middle !important;
        font-size: 15px;
    }
    .title{
        font-size: 40px;
    }

 </style>
    <div class="container1">
        <Div class="card card-primary ">
       
        <div class ="card-header">Snag List Entry</div>

        <div class="card-body">
            
            
            <form  action="{%url 'SnagListEntry' id  %}" method = "post">
                {% csrf_token %}

             <div class = "row">
               <div class="col-sm-4">
                <label> Area  </label>
                <input type="text" class="form-control" id="Area" name ="Area" placeholder ="Area" maxlength="100">
              </div>

              <br>
              <div class="col-sm-4">
                <label> Date  </label>
                <input type="text" name="Date" placeholder="Date" class="form-control datepicker" id = "Date">
              </div>
            </div>
        
               <br>
               <br>
                <table id="title" class= "table table-bordered " >
                    <thead>
                        
                      
                        <th>Description</th>
                        <th>Type of Work</th>
                        <th>Yes/No</th>
                        <th>Remarks</th>
                        
                    </thead>
                    {% for x in mem %}
                    <tr> 
                        {% if x.category == "1" %}
                        <td style="background-color: aliceblue;" colspan="3">{{x.title}}
                        <input name="TitleID_{{ forloop.counter0 }}" type="hidden" value="{{x.id}}" type="text"/

                        </td> 
                        {% else %}
                        <td >{{x.title}}</td> 
                        <td >{{x.worktype}}</td> 
                        <td><input type="checkbox" width="50px" value="1" name="Yes_{{ forloop.counter0 }}"/>
                         <input name="TitleID_{{ forloop.counter0 }}" type="hidden" value="{{x.id}}" type="text"/>
                       </td>
                      
                       <td>
                        <textarea type="myTextarea"   class="form-control" name="Remarks_{{ forloop.counter0 }}"/></textarea>
                        
                       </td> 
                       {% if forloop.last %}
                       <!-- Add the total loop count hidden field on the last iteration -->
                            <input type="hidden" name="TotalItem" id="TotalItem" value="{{ forloop.counter }}">
                        {% endif %}
                       {% endif %}
                    
                        </tr>
                         
                    {% endfor %}    
                    </table>
                    <div class = "card-footer text-right">
                        <button class="btn btn-primary" type="submit" id="new1">Submit</button>
                        </div>
                  
                                 
               </div>      
            </form>
        </div>
    </div>
    

   <script>
    $(function(){
        $(".datepicker").datepicker({ format: 'dd-MM-yy' });

        $(".datepicker").datepicker('setDate', new Date());
    })
   </script>


{% endblock content %}